The previous section described the original version of AFGMiner, called {\bf AFGMiner-iso} (\emph{iso} stands for isomorphism detection). AFGMiner-iso visits all nodes in the dataset for every pattern searched, making it potentially slow when analyzing large datasets composed of thousands of AFGs with hundreds of nodes each, as in the case study presented in this work. Another version of AFGMiner, {\bf AFGMiner-locreg}, addresses this performance issue. It uses the concept of location registration.

{\bf Location Registration} is the complete mapping, including nodes and edges, between a candidate pattern $p$ and each of its occurrences $g$. If $p$ is found to be heavyweight, this mapping is kept, otherwise it is discarded. Then, when a heavyweight pattern $p$ is extended into its child patterns $c$, in order to find occurrences of $c$ the algorithm only checks the mappings between $p$ and its occurrences $g$. In order to generate $c$, $p$ has one of its nodes, $v$, extended by adding to it an edge $e$, and may also have an extension node $q$ connected to $e$. The idea of location registration is to check each mapping between $p$ and occurrences $g$ for: (i) the node $v_g$ in $g$ that corresponds to $v$; (ii) if $v_g$ is connected to an edge $e_g$ that corresponds to $e$ and (iii) in case $c$ was extended from $p$ by adding an extension node, check if $e_g$ connects a node $q_g$, corresponding to node $q$, to $v_g$. If the algorithm is able to find appropriate $v_g$, $e_g$ and $q_g$ attached to the occurrence $g$, then the sub-graph that is composed of $g$ plus $e_g$ and $q_g$ is an occurrence of $c$.






